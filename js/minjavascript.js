var orderBasket=document.querySelector(".order-basket"),buy=document.querySelectorAll(".buy"),closeButton=document.querySelectorAll(".close-button"),writeUs=document.querySelector(".write-us"),feedbackForm=document.querySelector(".feedback-form"),feedbackFormSection=document.querySelector(".feedback-form-section"),firstName=document.querySelector("input[name=first-name]"),email=document.querySelector("input[name=mail]"),letter=document.querySelector("input[name=letter]"),adressImg=document.querySelector(".main-adress img"),popupMap=document.querySelector(".popup-map"),continueShopping=document.querySelector(".continue-shopping"),isStorageSupport=!0,storageName="",storageEmail="";try{storageName=localStorage.getItem("firstName"),storageEmail=localStorage.getItem("yourEmail")}catch(e){isStorageSupport=!1}buy.forEach(function(e){e.onclick=function(e){e.preventDefault(),orderBasket.classList.add("display-block")}}),writeUs&&writeUs.addEventListener("click",function(e){e.preventDefault(),feedbackForm.classList.add("form-display-block"),firstName.focus(),storageName&&(firstName.value=storageName,email&&email.focus()),storageEmail&&(email.value=storageEmail,letter&&letter.focus())}),feedbackForm&&feedbackFormSection.addEventListener("submit",function(e){firstName.value&&email.value&&letter.value?(localStorage.setItem("firstName",firstName.value),localStorage.setItem("yourEmail",email.value)):(e.preventDefault(),feedbackForm.classList.remove("shake-form"),feedbackForm.offsetWidth,feedbackForm.classList.add("shake-form"),console.log("Нужно заполнить все поля!"))}),popupMap&&adressImg.addEventListener("click",function(e){e.preventDefault(),popupMap.classList.add("display-block")}),closeButton.forEach(function(t){t.onclick=function(e){e.preventDefault(),t.parentElement.classList.remove("display-block"),feedbackForm&&(feedbackForm.classList.remove("form-display-block"),feedbackForm.classList.remove("shake-form"))}}),continueShopping&&continueShopping.addEventListener("click",function(e){e.preventDefault(),orderBasket.classList.remove("display-block")}),window.addEventListener("keydown",function(e){27===e.keyCode&&(orderBasket&&(e.preventDefault(),orderBasket.classList.remove("display-block")),feedbackForm&&(e.preventDefault(),feedbackForm.classList.remove("form-display-block"),feedbackForm.classList.remove("shake-form"),popupMap.classList.remove("display-block")))});